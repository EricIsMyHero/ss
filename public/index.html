<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="utf-8" />
  <title>Loading prank</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { background:#111; color:#fff; font-family:Arial, sans-serif; display:flex; align-items:center; justify-content:center; height:100vh; margin:0; }
    .card { text-align:center; padding:30px; border-radius:12px; background:linear-gradient(180deg,#222,#111); box-shadow:0 10px 30px rgba(0,0,0,0.6); width:90%; max-width:420px; }
    #loading { font-size:20px; margin-bottom:14px; opacity:1; transition:opacity .4s; }
    #ip { font-weight:700; font-size:18px; margin-top:10px; color:#ffb86b; display:none; }
    #fun { margin-top:14px; color:#9ad0ff; display:none; }
    .small { font-size:12px; color:#aaa; margin-top:10px; }
  </style>
</head>
<body>
  <div class="card">
    <div id="loading">Loading... ‚è≥</div>
    <div id="ip"></div>
    <div id="fun">≈ûaka! S…ôn…ô x…ôb…ôr g√∂nd…ôrildi ü§≠</div>
    <div class="small">(Bu zarafat √º√ß√ºn dostlarƒ±n razƒ±lƒ±ƒüƒ± var, yoxsa istifad…ô etm…ô.)</div>
  </div>

  <script>
    // S…ôhif…ô a√ßƒ±landa server…ô /collect √ßaƒüƒ±rƒ±≈üƒ± g√∂nd…ôrilir.
    async function runPrank() {
      try {
        // Ki√ßik gecikm…ô il…ô "loading" effekti
        await new Promise(r => setTimeout(r, 1200));

        const resp = await fetch('/collect', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ path: location.pathname })
        });

        const data = await resp.json();

        // loading gizl…ôt, ip g√∂st…ôr
        document.getElementById('loading').style.opacity = '0';
        await new Promise(r => setTimeout(r, 350));
        if (data && data.ip) {
          document.getElementById('ip').textContent = 'S…ônin IP √ºnvanƒ±n: ' + data.ip;
          document.getElementById('ip').style.display = 'block';
        } else {
          document.getElementById('ip').textContent = 'IP tapƒ±lmadƒ±.';
          document.getElementById('ip').style.display = 'block';
        }

        // bir az effektd…ôn sonra zarafat mesajƒ±
        setTimeout(() => {
          document.getElementById('fun').style.display = 'block';
          // optional: s…ôs effekti
          // const a = new Audio('boop.mp3'); a.play();
        }, 800);
      } catch (e) {
        document.getElementById('loading').textContent = 'X…ôta ba≈ü verdi';
        console.error(e);
      }
    }

    window.addEventListener('load', runPrank);
  </script>
</body>
</html>
